# -*- coding: iso-8859-1, utf-8 -*-
# Created on 14.10.2015 by @author: PeterH 

isbn_kw_dict = {}

inputfile = "C://Users//PeterH//eclipsemars//VLBGold//documents//X01inputdocs//VLBReport_VuR_ohneSchlagworte_LIST.txt"
sourcefile = "C://Users//PeterH//eclipsemars//VLBGold//documents//X01inputdocs//DNBComplete_DICT.txt"
outputfile = "C://Users//PeterH//eclipsemars//VLBGold//documents//X03finalresults//NAVImport_ISBN_Schlagworte.txt"


def create_dictionary(inp, src):
    finp = open(inp)        
    finpeval = eval(finp.read())
    fsrc = open(src)        
    fsrceval = eval(fsrc.read())
    
    for isbn in finpeval:
        try:
            iter = len(fsrceval[isbn][3])
            i = 0
            while i <= iter:
                id_kw_list = []
                print fsrceval[isbn][3][i]  
                print fsrceval[isbn][8][i]
                id_kw_list.append(fsrceval[isbn][3][i])
                id_kw_list.append(fsrceval[isbn][8][i])
                i = i + 1
        except: pass 
        isbn_kw_dict[isbn] = id_kw_list
    print isbn_kw_dict        

#     for isbn in finpeval:
#         iter = len(finpeval[isbn][3])
#         i = 0
#         while i <= iter: 
#         try:
#             isbn_kw_dict[isbn] = fsrceval[isbn][3]
#             #print isbn, fsrceval[isbn][8]
#         except:
#             isbn_kw_dict[isbn] = ["ISBN nicht bei DNB vorhanden"]
#             #print isbn, "nicht vorhanden"

    print isbn_kw_dict
    print "*" * 50

    
def print_and_save_dictionary_items(dictionary):
    results = open(outputfile, 'w')
    count = 0
    for k, v in dictionary.items(): 
        try:
            count += 1
            print '-'*70
            print 'EINTRAG NR. ' + str(count)
            print 'ISBN: ', k
            print 'DDC: ', v
            print 
            
            # mit dieser Methode werden die Daten in die Datei ausgegeben
            datatowrite = k, '\t', 'VLB', '\t', '\t' + str(v) + '\n'
            results.write(datatowrite)
        except:
            pass    

create_dictionary(inputfile, sourcefile)
#print_and_save_dictionary_items(isbn_kw_dict)